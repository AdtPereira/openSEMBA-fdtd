{
    "format": "FDTD Input file",
    "__comments": "MTLN Bundle example",
	
    "general": {
        "timeStep": 1e-12,
        "numberOfSteps": 1000
    },
	  
    "boundary": { "all": { "type": "mur" } },

	"materials": [
		{
			"id": 10,
			"name": "Bundle_1_level_0",
			"type": "wire",
			"radius": 0.0001,
			"resistancePerMeter": 22.9e-3,
			"__referenceInductancePerMeter": 5.481553487168089e-07,
			"__referenceCapacitancePerMeter": 2.0270004E-11
		},
		{
			"id": 11,
			"name": "Bundle_2_level_0",
			"type": "wire",
			"radius": 0.0001,
			"resistancePerMeter": 11.8e-3,
			"__referenceInductancePerMeter": 6.482560773828984e-07,
			"__referenceCapacitancePerMeter": 1.7140003E-11
		},
		{
			"id": 12,
			"name": "Bundle_3_level_0",
			"type": "wire",
			"radius": 0.0001,
			"resistancePerMeter": 17.3e-3,
			"__referenceInductancePerMeter": 5.802145885361537e-07,
			"__referenceCapacitancePerMeter": 1.9150003E-11
		},
		{
			"id": 2,
			"name": "Bundle_1_level_1",
			"type": "multiwire",
			"resistancePerMeter": 3.9e-3,
			"inductancePerMeter": 8.802075200000001e-08,
			"capacitancePerMeter": 5.5840010E-10,
			"transferImpedancePerMeter" : {
				"inductiveTerm" : 8.9e-9,
				"direction" : "inwards"
			}
		},
		{
			"id": 3,
			"name": "Bundle_2_level_1",
			"type": "multiwire",
			"resistancePerMeter": 12.2e-3,
			"inductancePerMeter": 1.37228e-07,
			"capacitancePerMeter":3.2310005E-10,
			"transferImpedancePerMeter" : {
				"inductiveTerm" : 7.4e-9,
				"direction" : "inwards"
			}
		},
		{
			"id": 4,
			"name": "Bundle_3_level_1",
			"type": "multiwire",
			"resistancePerMeter": 6.5e-3,
			"inductancePerMeter": 9.1890502e-08,
			"capacitancePerMeter": 4.7190007E-10,
			"transferImpedancePerMeter" : {
				"inductiveTerm" : 3.0e-9,
				"direction" : "inwards"
			}
		},
		{
			"id": 61,
			"name": "Bundle_1_level_2",
			"type": "multiwire",
			"resistancePerMeter" : [62.0e-3,62.0e-3,62.0e-3,62.0e-3,62.0e-3,62.0e-3,62.0e-3,62.0e-3],
			"inductancePerMeter": [
				[2.4382084E-07, 4.7377505E-08, 0.0,0.0, 0.0, 0.0, 0.0, 0.0 ],
				[4.7377508E-08, 2.4382081E-07, 0.0,0.0, 0.0, 0.0, 0.0, 0.0 ],
				[0.0, 0.0, 2.4382084E-07, 4.7377505E-08, 0.0, 0.0, 0.0, 0.0],
				[0.0, 0.0, 4.7377508E-08, 2.4382081E-07, 0.0, 0.0, 0.0, 0.0],
				[0.0, 0.0, 0.0, 0.0, 2.4382084E-07, 4.7377505E-08, 0.0, 0.0],
				[0.0, 0.0, 0.0, 0.0, 4.7377508E-08, 2.4382081E-07, 0.0, 0.0],
				[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2.4382084E-07, 4.7377505E-08],
				[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 4.7377508E-08, 2.4382081E-07]
			],                
			"capacitancePerMeter": [
				[105.5e-12, -20.5e-12, 0.0,0.0, 0.0, 0.0, 0.0, 0.0 ],
				[-20.5e-12, 105.5e-12, 0.0,0.0, 0.0, 0.0, 0.0, 0.0 ],
				[0.0, 0.0, 105.5e-12, -20.5e-12, 0.0, 0.0, 0.0, 0.0],
				[0.0, 0.0, -20.5e-12, 105.5e-12, 0.0, 0.0, 0.0, 0.0],
				[0.0, 0.0, 0.0, 0.0, 105.5e-12, -20.5e-12, 0.0, 0.0],
				[0.0, 0.0, 0.0, 0.0, -20.5e-12, 105.5e-12, 0.0, 0.0],
				[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 105.5e-12, -20.5e-12],
				[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -20.5e-12, 105.5e-12]
			],
			"transferImpedancePerMeter" : {
				"inductiveTerm" : 4.2e-9,
				"direction" : "inwards",
				"__factor" : 4
			}
		},
		{
			"id": 62,
			"name": "Bundle_2_level_2",
			"type": "multiwire",
			"resistancePerMeter" : [62.0e-3,62.0e-3],
			"inductancePerMeter": [
				[2.4382084E-07, 4.7377505E-08],
				[4.7377508E-08, 2.4382081E-07]
			],
			"capacitancePerMeter": [
				[105.5e-12, -20.5e-12],
				[-20.5e-12, 105.5e-12 ]
			],
			"transferImpedancePerMeter" : {
				"inductiveTerm" : 4.2e-9,
				"direction" : "inwards"
			}
		},
		{
			"id": 63,
			"name": "Bundle_3_level_2",
			"type": "multiwire",
			"resistancePerMeter" : [62.0e-3,62.0e-3,62.0e-3,62.0e-3,62.0e-3,62.0e-3],
			"inductancePerMeter": [
				[2.4382084E-07, 4.7377505E-08, 0.0,0.0, 0.0, 0.0],
				[4.7377508E-08, 2.4382081E-07, 0.0,0.0, 0.0, 0.0],
				[0.0, 0.0, 2.4382084E-07, 4.7377505E-08, 0.0, 0.0],
				[0.0, 0.0, 4.7377508E-08, 2.4382081E-07, 0.0, 0.0],
				[0.0, 0.0, 0.0, 0.0, 2.4382084E-07, 4.7377505E-08],
				[0.0, 0.0, 0.0, 0.0, 4.7377508E-08, 2.4382081E-07]
			],
			"capacitancePerMeter": [
				[105.5e-12, -20.5e-12, 0.0,0.0, 0.0, 0.0 ],
				[-20.5e-12, 105.5e-12, 0.0,0.0, 0.0, 0.0 ],
				[0.0, 0.0, 105.5e-12, -20.5e-12, 0.0, 0.0 ],
				[0.0, 0.0, -20.5e-12, 105.5e-12, 0.0, 0.0 ],
				[0.0, 0.0, 0.0, 0.0, 105.5e-12, -20.5e-12 ],
				[0.0, 0.0, 0.0, 0.0, -20.5e-12, 105.5e-12 ]
			],
			"transferImpedancePerMeter" : {
				"inductiveTerm" : 4.2e-9,
				"direction" : "inwards",
				"__factor" : 3
			}		
		},
		{
			"id": 7,
			"name": "Short",
			"type": "wireTerminal",
			"termination": {
				"type": "series",
				"resistance": 1e-6
			}
		},
		{
			"id": 72,
			"name": "Short_2x2_",
			"type": "multiwireTerminal",
			"terminations" : [
				{"type": "series", "resistance": 1e-6 },
				{"type": "series", "resistance": 1e-6 }
			]
		},
		{
			"id": 76,
			"name": "Short6x6",
			"type": "multiwireTerminal",
			"terminations" : [
				{"type": "series", "resistance": 1e-6 },
				{"type": "series", "resistance": 1e-6 },
				{"type": "series", "resistance": 1e-6 },
				{"type": "series", "resistance": 1e-6 },
				{"type": "series", "resistance": 1e-6 },
				{"type": "series", "resistance": 1e-6 }
			]
		},
		{
			"id": 78,
			"name": "Short8x8",
			"type": "multiwireTerminal",
			"terminations" : [
				{"type": "series", "resistance": 1e-6 },
				{"type": "series", "resistance": 1e-6 },
				{"type": "series", "resistance": 1e-6 },
				{"type": "series", "resistance": 1e-6 },
				{"type": "series", "resistance": 1e-6 },
				{"type": "series", "resistance": 1e-6 },
				{"type": "series", "resistance": 1e-6 },
				{"type": "series", "resistance": 1e-6 }
			]
		},
		{
			"id": 8,
			"name": "T_2_50_50",
			"type": "multiwireTerminal",
			"terminations" : [
				{"type": "series", "resistance": 50 },
				{"type": "series", "resistance": 50 }
			]
		},
		{
			"id": 86,
			"name": "T_2_50_50",
			"type": "multiwireTerminal",
			"terminations" : [
				{"type": "series", "resistance": 50 },
				{"type": "series", "resistance": 50 },
				{"type": "series", "resistance": 50 },
				{"type": "series", "resistance": 50 },
				{"type": "series", "resistance": 50 },
				{"type": "series", "resistance": 50 }
			]

		},
		{
			"id": 100,
			"name": "T_2_n_short",
			"type": "terminal",
			"terminations": [
				{"type": "LCpRs",  "resistance": 50, "inductance": 30e-12, "capacitance": 60e-9 },
				{"type": "series", "resistance": 1e10 },
				{"type": "LCpRs",  "resistance": 50, "inductance": 30e-12, "capacitance": 60e-9 },
				{"type": "series", "resistance": 1e10 },
				{"type": "LCpRs",  "resistance": 50, "inductance": 30e-12, "capacitance": 60e-9 },
				{"type": "series", "resistance": 1e10 },
				{"type": "LCpRs",  "resistance": 50, "inductance": 30e-12, "capacitance": 60e-9 },
				{"type": "series", "resistance": 1e10 }
			]
		},
		{
			"id": 20,
			"name": "T_0_1",
			"type": "terminal",
			"terminations": [{"type": "series", "resistance": 0.7e-3}]
		},
		{
			"id": 21,
			"name": "T_0_2",	
			"type": "wireTerminal",
			"termination": {"type": "series", "resistance": 1}
		},
		{
			"id": 24,
			"name": "SegmentConnector1",
			"type": "connector",
			"connection": {"type": "series", "resistance": 100e-3 }		
		},
		{
			"id": 25,
			"name": "SegmentConnector2",
			"type": "connector",
			"connection": {"type": "series", "resistance": 19 }
		},
		{
			"id": 204,
			"name": "SegmentConnector1",
			"type": "connector",
			"connection": {"type": "series", "resistance": 100e-3 },
			"transferImpedancePerMeter" : {
				"resistiveTerm" : 3.33,
				"inductiveTerm" : 2.6e-9,
				"direction" : "inwards"
			}
		},
		{
			"id": 205,
			"name": "SegmentConnector2",
			"type": "connector",
			"connection": {"type": "series", "resistance": 19 },
			"transferImpedancePerMeter" : {
				"resistiveTerm" : 609.3,
				"inductiveTerm" : 2.6e-9,
				"direction" : "inwards"
			}
		}
	],
	"mesh": {
		"grid": {
			"numberOfCells": [2, 7, 100],
			"steps": {
				"x": [1.0], 
				"y": [0.033],  ?
				"z": [0.03]} ?
		},
		"relativeCoordinates": [
			{"id": 1 , "position": [ 0, 0, 18]},
			{"id": 2 , "position": [ 0, 0, 18]},
			{"id": 3 , "position": [ 0, 0, 18]},
			{"id": 4 , "position": [ 0, 0, 18]},
			{"id": 5 , "position": [ 0.343, 0.0, 18]}, // TODO
			{"id": 6 , "position": [ 0, 0, 0.705]},    // TODO
			{"id": 7 , "position": [ 0, 0, 0.705]},    // TODO
			{"id": 8 , "position": [ 0, 0, 0.705]},    // TODO
			{"id": 9 , "position": [ 0.356, 0, 0.705]},// TODO
			{"id": 10, "position": [ 0, 0, 0.883]},    // TODO
			{"id": 11, "position": [ 0, 0, 0]},
			{"id": 12, "position": [ 0, 0, 0]},
			{"id": 13, "position": [ 0, 0, 0]},
			{"id": 14, "position": [ 0, 0, 0]},
			{"id": 15, "position": [ 0, 0, 18]},
			{"id": 16, "position": [ 0, 0, 18]},
			{"id": 17, "position": [ 0, 0, 18]},
			{"id": 18, "position": [ 0, 0, 18]},
			{"id": 19, "position": [ 0, 0, 18]},
			{"id": 20, "position": [ 0, 0, 18]},
			{"id": 21, "position": [ 0, 0, 18]},
			{"id": 22, "position": [ 0, 0, 18]},
			{"id": 23, "position": [ 0.343, 0, 18]}, // TODO
			{"id": 24, "position": [ 0, 0, 0.705]}, // TODO
			{"id": 25, "position": [ 0, 0, 0.705]}, // TODO
			{"id": 26, "position": [ 0, 0, 0.705]}, // TODO
			{"id": 27, "position": [ 0, 0, 0.705]}, // TODO
			{"id": 28, "position": [ 0, 0, 0.705]}, // TODO
			{"id": 29, "position": [ 0, 0, 0.705]}, // TODO
			{"id": 30, "position": [ 0.356, 0, 0.705]}, // TODO
			{"id": 31, "position": [ 0.356, 0, 0.705]}, // TODO
			{"id": 32, "position": [ 0, 0, 0.883]}, // TODO
			{"id": 33, "position": [ 0, 0, 0]},
			{"id": 34, "position": [ 0, 0, 0]},
			{"id": 35, "position": [ 0, 0, 0]},
			{"id": 36, "position": [ 0, 0, 0]},
			{"id": 37, "position": [ 0, 0, 0]},
			{"id": 38, "position": [ 0, 0, 0]},
			{"id": 39, "position": [ 0, 0, 0]},
			{"id": 40, "position": [ 0, 0, 0]},
			{"id": 41, "position": [ 0, 0, 18]},
			{"id": 42, "position": [ 0, 0, 18]},
			{"id": 43, "position": [ 0, 0, 18]},
			{"id": 44, "position": [ 0, 0, 18]},
			{"id": 45, "position": [ 0, 0, 18]},
			{"id": 46, "position": [ 0, 0, 18]},
			{"id": 47, "position": [ 0, 0, 18]},
			{"id": 48, "position": [ 0, 0, 18]},
			{"id": 49, "position": [ 0, 0, 18]},
			{"id": 50, "position": [ 0, 0, 18]},
			{"id": 51, "position": [ 0.343, 0, 18]}, // TODO
			{"id": 52, "position": [ 0.343, 0, 18]}, // TODO
			{"id": 53, "position": [ 0, 0, 18]},
			{"id": 54, "position": [ 0, 0, 18]},
			{"id": 55, "position": [ 0, 0, 18]},
			{"id": 56, "position": [ 0, 0, 18]},
			{"id": 57, "position": [ 0, 0, 18]},
			{"id": 58, "position": [ 0, 0, 18]},
			{"id": 59, "position": [ 0, 0, 0.705]}, // TODO
			{"id": 60, "position": [ 0, 0, 0.705]}, // TODO
			{"id": 61, "position": [ 0, 0, 0.705]}, // TODO
			{"id": 62, "position": [ 0, 0, 0.705]}, // TODO
			{"id": 63, "position": [ 0, 0, 0.705]}, // TODO
			{"id": 64, "position": [ 0, 0, 0.705]}, // TODO
			{"id": 65, "position": [ 0, 0, 0.705]}, // TODO
			{"id": 66, "position": [ 0, 0, 0.705]}, // TODO
			{"id": 67, "position": [ 0, 0, 0.705]}, // TODO
			{"id": 68, "position": [ 0, 0, 0.705]}, // TODO
			{"id": 69, "position": [ 0.356, 0, 0.705]}, // TODO
			{"id": 70, "position": [ 0.356, 0, 0.705]}, // TODO
			{"id": 71, "position": [ 0.356, 0, 0.705]}, // TODO
			{"id": 72, "position": [ 0.356, 0, 0.705]}, // TODO
			{"id": 73, "position": [ 0, 0, 0.705]}, // TODO
			{"id": 74, "position": [ 0, 0, 0.705]}, // TODO
			{"id": 75, "position": [ 0, 0, 0.883]}, // TODO
			{"id": 76, "position": [ 0, 0, 0.883]}, // TODO
			{"id": 77, "position": [ 0, 0, 0.1]}, // TODO
			{"id": 78, "position": [ 0, 0, 0.3]}, // TODO
			{"id": 79, "position": [ 0, 0, 0.42]}, // TODO
			{"id": 80, "position": [ 0, 0, 0.00]}, // TODO
			{"id": 81, "position": [ 0, 0, 18]},
			{"id": 82, "position": [ 0, 0, 18]},
			{"id": 83, "position": [ 0, 0, 0.705]}, // TODO
			{"id": 84, "position": [ 0, 0, 18]},
			{"id": 85, "position": [ 0.3, 0, 18]}, // TODO
			{"id": 86, "position": [ 0.343, 0, 0.18]} // TODO
		],
		"elements": [
			{"id": 1,  "type": "polyline", "coordinateIds": [ 1,  2]},				
			{"id": 2 , "type": "polyline", "coordinateIds": [ 3,  5]},				
			{"id": 3 , "type": "polyline", "coordinateIds": [ 4,  6]},				
			{"id": 4 , "type": "polyline", "coordinateIds": [ 7,  9]},				
			{"id": 5 , "type": "polyline", "coordinateIds": [ 8, 10]},
			{"id": 6,  "type": "polyline", "coordinateIds": [11, 15]},
			{"id": 7,  "type": "polyline", "coordinateIds": [12, 16]},
			{"id": 8,  "type": "polyline", "coordinateIds": [13, 17]},
			{"id": 9,  "type": "polyline", "coordinateIds": [14, 18]},
			{"id": 10, "type": "polyline", "coordinateIds": [19, 23]},
			{"id": 11, "type": "polyline", "coordinateIds": [20, 24]},
			{"id": 12, "type": "polyline", "coordinateIds": [21, 25]},
			{"id": 13, "type": "polyline", "coordinateIds": [22, 26]},
			{"id": 14, "type": "polyline", "coordinateIds": [27, 30]},
			{"id": 15, "type": "polyline", "coordinateIds": [28, 31]},
			{"id": 16, "type": "polyline", "coordinateIds": [29, 32]},
			{"id": 17, "type": "polyline", "coordinateIds": [33, 41]},
			{"id": 18, "type": "polyline", "coordinateIds": [34, 42]},
			{"id": 19, "type": "polyline", "coordinateIds": [35, 43]},
			{"id": 20, "type": "polyline", "coordinateIds": [36, 44]},
			{"id": 21, "type": "polyline", "coordinateIds": [37, 45]},
			{"id": 22, "type": "polyline", "coordinateIds": [38, 46]},
			{"id": 23, "type": "polyline", "coordinateIds": [39, 47]},
			{"id": 24, "type": "polyline", "coordinateIds": [40, 48]},
			{"id": 25, "type": "polyline", "coordinateIds": [49, 51]},
			{"id": 26, "type": "polyline", "coordinateIds": [50, 52]},
			{"id": 27, "type": "polyline", "coordinateIds": [53, 59]},
			{"id": 28, "type": "polyline", "coordinateIds": [54, 60]},
			{"id": 29, "type": "polyline", "coordinateIds": [55, 61]},
			{"id": 30, "type": "polyline", "coordinateIds": [56, 62]},
			{"id": 31, "type": "polyline", "coordinateIds": [57, 63]},
			{"id": 32, "type": "polyline", "coordinateIds": [58, 64]},
			{"id": 33, "type": "polyline", "coordinateIds": [65, 69]},
			{"id": 34, "type": "polyline", "coordinateIds": [66, 70]},
			{"id": 35, "type": "polyline", "coordinateIds": [67, 71]},
			{"id": 36, "type": "polyline", "coordinateIds": [68, 72]},
			{"id": 37, "type": "polyline", "coordinateIds": [73, 75]},
			{"id": 38, "type": "polyline", "coordinateIds": [74, 76]},
			{"id": 39, "type": "node", "coordinateIds": [77]},
			{"id": 40, "type": "node", "coordinateIds": [78]},
			{"id": 41, "type": "node", "coordinateIds": [79]},
			{"id": 42, "type": "node", "coordinateIds": [80]},
			{"id": 43, "type": "node", "coordinateIds": [81]},
			{"id": 44, "type": "node", "coordinateIds": [82]},
			{"id": 45, "type": "node", "coordinateIds": [83]},
			{"id": 46, "type": "node", "coordinateIds": [84]},
			{"id": 47, "type": "node", "coordinateIds": [85]},
			{"id": 48, "type": "node", "coordinateIds": [86]},
			{"id": 49, "type": "junction", "unitedCoordinateIds": [[2, 3, 4]]},
			{"id": 50, "type": "junction", "unitedCoordinateIds": [[15, 19, 20]]},						
			{"id": 51, "type": "junction", "unitedCoordinateIds": [ [41,53], [42,54], [43,55], [44,56], [45,57], [46,58], [47,49], [48,50] ]}
		]
	
	},
	
	"probes": [
		{
			"name": "b1_mid_current",
			"type": "current",
			"elementIds": [39]
		},
		{
			"name": "b1_terminal_voltage",
			"type": "voltage",
			"elementIds": [42]
		},
		{
			"name": "b1_terminal_current",
			"type": "current",
			"elementIds": [42]
		},
		{
			"name": "b1_junction_current",
			"type": "current",
			"elementIds": [43]
		},
		{
			"name": "b3_junction_current",
			"type": "current",
			"elementIds": [44]
		},
		{
			"name": "b3_terminal_current",
			"type": "current",
			"elementIds": [45]
		},
		{
			"name": "b2_junction_current",
			"type": "current",
			"elementIds": [46]
		},
		{
			"name": "b2_connector_current",
			"type": "current",
			"elementIds": [47]
		},
		{
			"name": "b2_terminal_current",
			"type": "current",
			"elementIds": [48]
		}
	],

	"sources": [
		{
			"name": "DistributedSource",
			"type": "nodalSource",
			"field": "electric",
			"magnitudeFile": "gaussian_2.exc",
			"elementIds": [40, 41] // TODO: Cell region.
		}
	],

	"cables": [
		{
			"name": "line_0_0",
			"cableMaterialId": 10,
			"initialTerminalId": 20,
			"endTerminalId": 7,
			"initialConnectorId": 24,
			"elementIds": [ 1 ]
		},
		{
			"name": "line_1_0",
			"cableMaterialId": 2,
			"initialTerminalId": 7,
			"endTerminalId": 7,
			"initialConnectorId": 204,
			"elementIds": [ 6 ],
			"containedWithinElementId": 1
		},
		{
			"name": "line_2_0",
			"cableMaterialId": 61,
			"initialTerminalId": 100,
			"endTerminalId": 78,
			"elementIds": [ 17, 18, 19, 20, 21, 22, 23, 24 ],
			"containedWithinElementId": 6
		},
		{
			"name": "line_0_1",
			"cableMaterialId": 11,
			"initialTerminalId": 7,
			"endTerminalId": 21,
			"initialConnectorId": 25,
			"elementIds": [ 2 ]
		},
		{
			"name": "line_1_1",
			"cableMaterialId": 3,
			"initialTerminalId": 7,
			"endTerminalId": 7,
			"initialConnectorId": 205,
			"elementIds": [10],
			"containedWithinElementId": 2
		},
		{
			"name": "line_2_4",
			"cableMaterialId": 62,
			"initialTerminalId": 72,
			"endTerminalId": 8,
			"elementIds": [ 25, 26 ],
			"containedWithinElementId": 10
		},
		{
			"name": "line_0_2",
			"cableMaterialId": 12,
			"initialTerminalId": 7,
			"endTerminalId": 20,
			"elementIds": [ 3 ]
		},
		{
			"name": "line_1_2",
			"cableMaterialId": 4,
			"initialTerminalId": 7,
			"endTerminalId": 7,
			"elementIds": [ 11 ],
			"containedWithinElementId": 3
		},
		{
			"name": "line_2_5",
			"cableMaterialId": 63,
			"initialTerminalId": 76,
			"endTerminalId": 86,
			"elementIds": [ 27, 28, 29, 30, 31, 32 ],
			"containedWithinElementId": 11
		}
	]
}