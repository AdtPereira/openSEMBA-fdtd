{
    "format": "FDTD Input file",
    "__comments": "PEC surface attached to line currents. Typical lightning case.",

    "general": {
        "timeStep": 1e-12,
        "numberOfSteps": 1000
    },
  
    "boundary": { "all": { "type": "mur" } },

    "mesh": {
        "grid": {
            "numberOfCells": [20, 20, 20],
            "steps": {
                "x": [0.1],
                "y": [0.1],
                "z": [0.1]
            }
        },
        "elements": {
            "cellRegions": [
                {"id": 1, "linels": [ [[11,  1, 11], [11,  5, 11]] ]},
                {"id": 2, "linels": [ [[ 6,  6, 11], [15, 15, 11]] ]},
                {"id": 3, "surfels": [ [[11, 16, 11], [11, 20, 11]] ]},
                {"id": 4, "surfels": [ [[10,  3, 10], [11,  3, 11]] ]},
                {"id": 5, "surfels": [ [[10, 18, 10], [11, 18, 11]] ]}
            ]
        }
    },

    "materials": [ {"id": 1, "type": "PEC"} ],

    "materialRegions": [
        {"name": "pec_square", "materialId": 1, "elementIds": [2]},
        {"name": "exit_line",  "materialid": 1, "elementIds": [3]}
    ],

    "sources": [
        {
            "name": "entry_line_curent",
            "type": "nodalSource", 
            "field": "current",
            "magnitudeFile": "waveform.exc", 
            "elementIds": [1]
        }
    ],

    "probes": [
        {
            "name": "bulk_current_at_entry",
            "type": "bulkCurrent",
            "elementIds": [4],
            "domain": { "type": "time" }
        },
        {
            "name": "bulk_current_at_exit",
            "type": "bulkCurrent",
            "elementIds": [5],
            "domain": { "type": "time" }
        }
    ]
}